üîù Retour au [Sommaire](/SOMMAIRE.md)

# 20bis.3.1. Neon, Supabase, PlanetScale : Les Alternatives Serverless

## Introduction

Avec l'essor des architectures modernes, une nouvelle g√©n√©ration de bases de donn√©es a √©merg√© : les bases de donn√©es **serverless**. Ces solutions permettent aux d√©veloppeurs de se concentrer sur leur code plut√¥t que sur l'administration de l'infrastructure.

Dans ce chapitre, nous allons explorer trois acteurs majeurs de cet √©cosyst√®me : **Neon**, **Supabase** et **PlanetScale**. Nous verrons leurs caract√©ristiques, leurs diff√©rences, et dans quels cas les utiliser.

---

## Qu'est-ce qu'une Base de Donn√©es Serverless ?

Avant de plonger dans les d√©tails de chaque solution, clarifions ce que signifie "serverless" dans le contexte des bases de donn√©es.

### D√©finition Simple

Une base de donn√©es serverless est un service de base de donn√©es qui :

1. **S'adapte automatiquement** √† la charge de travail (scaling automatique)
2. **Ne n√©cessite pas de gestion de serveur** par l'utilisateur
3. **Facture √† l'usage** plut√¥t qu'√† la capacit√© provisionn√©e
4. **Peut descendre √† z√©ro** lorsqu'il n'y a pas d'activit√© (scale-to-zero)

### Pourquoi C'est Important ?

Imaginez que vous lancez une application. Avec une base de donn√©es traditionnelle :

- Vous devez choisir la taille du serveur √† l'avance
- Vous payez 24h/24, m√™me si votre application dort la nuit
- Si vous avez un pic de trafic, votre base peut √™tre submerg√©e

Avec une base serverless :

- La capacit√© s'ajuste automatiquement
- Vous ne payez que ce que vous consommez
- Les pics de trafic sont g√©r√©s automatiquement

---

## Neon : Le PostgreSQL Cloud-Native

### Pr√©sentation

**Neon** est une plateforme serverless construite sp√©cifiquement pour PostgreSQL. Fond√©e en 2021, elle a √©t√© con√ßue d√®s le d√©part pour tirer parti des architectures cloud modernes.

### Architecture Innovante

Neon utilise une architecture qui **s√©pare le calcul du stockage** :

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Architecture Neon                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ   ‚îÇ  Compute 1  ‚îÇ    ‚îÇ  Compute 2  ‚îÇ    ‚îÇ  Compute N  ‚îÇ  ‚îÇ
‚îÇ   ‚îÇ  (endpoint) ‚îÇ    ‚îÇ  (endpoint) ‚îÇ    ‚îÇ  (endpoint) ‚îÇ  ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ          ‚îÇ                  ‚îÇ                  ‚îÇ         ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                             ‚îÇ                            ‚îÇ
‚îÇ                             ‚ñº                            ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ              ‚îÇ     Stockage Partag√©     ‚îÇ                ‚îÇ
‚îÇ              ‚îÇ   (Distributed Storage)  ‚îÇ                ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Cette s√©paration permet :

- **Le scale-to-zero** : Les instances de calcul peuvent s'√©teindre compl√®tement
- **Le branching** : Cr√©er des copies instantan√©es de la base de donn√©es
- **L'efficacit√© des co√ªts** : Ne payer que pour le stockage utilis√©

### Fonctionnalit√©s Cl√©s

#### 1. Branching de Base de Donn√©es

La fonctionnalit√© phare de Neon est le **branching**. Comme avec Git pour le code, vous pouvez cr√©er des "branches" de votre base de donn√©es :

| Fonctionnalit√© | Description |
|----------------|-------------|
| **Branch de d√©veloppement** | Cr√©er une copie de la production pour tester |
| **Branch de preview** | Une base par pull request |
| **Restauration point-in-time** | Revenir √† n'importe quel moment |

Le branching utilise la technologie **copy-on-write**, ce qui signifie qu'une branche ne consomme de l'espace que pour les donn√©es modifi√©es.

#### 2. Scale-to-Zero

Neon peut suspendre automatiquement les instances inactives :

- Apr√®s quelques minutes d'inactivit√©, l'instance s'√©teint
- √Ä la prochaine requ√™te, elle red√©marre (cold start d'environ 500ms √† 2s)
- Id√©al pour les environnements de d√©veloppement et les applications √† faible trafic

#### 3. Autoscaling

Pour les applications en production, Neon ajuste automatiquement les ressources :

- Minimum configurable (ex: 0.25 vCPU)
- Maximum configurable (ex: 4 vCPU)
- Ajustement en temps r√©el selon la charge

### Compatibilit√© PostgreSQL

Neon est **100% compatible PostgreSQL**. Cela signifie :

- Toutes les fonctionnalit√©s SQL de PostgreSQL fonctionnent
- Les extensions populaires sont support√©es (pgvector, PostGIS, etc.)
- Les outils existants (psql, pgAdmin, ORMs) fonctionnent sans modification

### Cas d'Usage Id√©aux

Neon est particuli√®rement adapt√© pour :

1. **Applications en d√©veloppement** : Branches gratuites pour chaque environnement
2. **Startups** : Mod√®le de prix pr√©visible, scale-to-zero √©conomique
3. **Applications avec trafic variable** : Autoscaling automatique
4. **Workflows CI/CD** : Branches √©ph√©m√®res pour les tests

### Limitations √† Conna√Ætre

- **Cold starts** : Le red√©marrage apr√®s scale-to-zero peut prendre 1-2 secondes
- **Extensions limit√©es** : Toutes les extensions PostgreSQL ne sont pas disponibles
- **R√©gions limit√©es** : Moins de r√©gions que les clouds traditionnels

---

## Supabase : Le "Firebase Open Source"

### Pr√©sentation

**Supabase** se positionne comme une alternative open source √† Firebase, construite sur PostgreSQL. Fond√©e en 2020, elle offre bien plus qu'une simple base de donn√©es.

### Une Plateforme Compl√®te

Contrairement √† Neon qui se concentre sur la base de donn√©es, Supabase fournit un **Backend-as-a-Service (BaaS)** complet :

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    √âcosyst√®me Supabase                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Database   ‚îÇ  ‚îÇ    Auth     ‚îÇ  ‚îÇ      Storage        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (PostgreSQL)‚îÇ  ‚îÇ (Utilisat.) ‚îÇ  ‚îÇ (Fichiers/Images)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Realtime   ‚îÇ  ‚îÇ   Edge      ‚îÇ  ‚îÇ     API Auto-       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (WebSockets)‚îÇ  ‚îÇ  Functions  ‚îÇ  ‚îÇ     g√©n√©r√©e         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Composants Principaux

#### 1. Base de Donn√©es PostgreSQL

Au c≈ìur de Supabase se trouve une instance PostgreSQL compl√®te :

- Acc√®s direct via SQL
- Support des extensions (pgvector, PostGIS, etc.)
- Row Level Security (RLS) int√©gr√©e

#### 2. Authentification Int√©gr√©e

Supabase fournit un syst√®me d'authentification pr√™t √† l'emploi :

| M√©thode | Description |
|---------|-------------|
| Email/Mot de passe | Authentification classique |
| Magic Links | Connexion sans mot de passe par email |
| OAuth | Google, GitHub, Apple, etc. |
| T√©l√©phone | SMS OTP |

#### 3. API Auto-g√©n√©r√©e

√Ä partir de votre sch√©ma de base de donn√©es, Supabase g√©n√®re automatiquement :

- **API REST** : Endpoints CRUD pour chaque table
- **API GraphQL** : Requ√™tes flexibles via pg_graphql
- **Documentation Swagger** : Documentation automatique

Exemple d'utilisation c√¥t√© client :

```javascript
// R√©cup√©rer tous les utilisateurs actifs
const { data, error } = await supabase
  .from('users')
  .select('*')
  .eq('active', true)
```

#### 4. Temps R√©el (Realtime)

Supabase permet d'√©couter les changements de la base en temps r√©el :

```javascript
// S'abonner aux nouvelles insertions dans la table "messages"
supabase
  .channel('messages')
  .on('postgres_changes',
      { event: 'INSERT', schema: 'public', table: 'messages' },
      (payload) => {
        console.log('Nouveau message:', payload.new)
      }
  )
  .subscribe()
```

#### 5. Stockage de Fichiers

Un syst√®me de stockage S3-compatible pour vos fichiers :

- Upload/download de fichiers
- Transformations d'images √† la vol√©e
- Contr√¥le d'acc√®s bas√© sur les politiques PostgreSQL

#### 6. Edge Functions

Des fonctions serverless ex√©cut√©es au plus pr√®s des utilisateurs :

- Bas√©es sur Deno (TypeScript/JavaScript)
- D√©ploy√©es globalement
- Id√©ales pour les webhooks, le traitement de paiements, etc.

### Open Source et Self-Hosted

Un avantage majeur de Supabase est son caract√®re **open source** :

- Le code est disponible sur GitHub
- Vous pouvez h√©berger Supabase vous-m√™me (self-hosting)
- √âvite le vendor lock-in

Pour le self-hosting, Supabase fournit des configurations Docker :

```bash
# Cloner le d√©p√¥t
git clone https://github.com/supabase/supabase
cd supabase/docker

# Lancer avec Docker Compose
docker compose up -d
```

### Cas d'Usage Id√©aux

Supabase excelle pour :

1. **Applications web/mobile compl√®tes** : Tout le backend en un seul service
2. **Prototypage rapide** : API g√©n√©r√©e automatiquement
3. **Applications temps r√©el** : Chat, notifications, dashboards live
4. **D√©veloppeurs cherchant une alternative √† Firebase** : Avec les avantages de PostgreSQL

### Limitations √† Conna√Ætre

- **Moins de contr√¥le sur l'infrastructure** : Abstraction de haut niveau
- **Tarification** : Peut devenir co√ªteux √† grande √©chelle
- **Complexit√© cach√©e** : L'abstraction peut masquer des probl√®mes de performance
- **D√©pendance √† l'√©cosyst√®me** : Les fonctionnalit√©s sont interconnect√©es

---

## PlanetScale : L'Exception MySQL

### Pourquoi en Parler ?

**PlanetScale** est souvent mentionn√© aux c√¥t√©s de Neon et Supabase, mais avec une diff√©rence majeure : il est bas√© sur **MySQL/Vitess**, pas PostgreSQL.

Nous l'incluons car :

1. C'est un concurrent direct dans l'espace serverless
2. Ses concepts innovants influencent l'industrie
3. Certains d√©veloppeurs h√©sitent entre PostgreSQL et MySQL

### Pr√©sentation

PlanetScale est construit sur **Vitess**, la technologie d√©velopp√©e par YouTube pour faire √©voluer MySQL √† l'√©chelle mondiale.

### Caract√©ristiques Distinctives

#### 1. Branching (comme Neon)

PlanetScale a popularis√© le concept de database branching :

```
main (production)
  ‚îÇ
  ‚îú‚îÄ‚îÄ feature-user-profiles
  ‚îÇ     ‚îî‚îÄ‚îÄ Modifications du sch√©ma utilisateurs
  ‚îÇ
  ‚îî‚îÄ‚îÄ feature-payments
        ‚îî‚îÄ‚îÄ Nouvelles tables de paiement
```

#### 2. Non-blocking Schema Changes

Les modifications de sch√©ma ne bloquent pas les requ√™tes :

- Les migrations s'ex√©cutent en arri√®re-plan
- Pas de downtime
- Rollback facile

#### 3. Sharding Automatique

Vitess permet de distribuer les donn√©es automatiquement :

- Scalabilit√© horizontale
- Performances maintenues √† grande √©chelle

### Tableau Comparatif avec les Solutions PostgreSQL

| Aspect | PlanetScale | Neon | Supabase |
|--------|-------------|------|----------|
| **Base** | MySQL/Vitess | PostgreSQL | PostgreSQL |
| **Branching** | ‚úÖ | ‚úÖ | ‚ùå |
| **Scale-to-zero** | ‚ùå | ‚úÖ | ‚ùå |
| **Sharding** | ‚úÖ Automatique | ‚ùå | ‚ùå |
| **Foreign Keys** | ‚ö†Ô∏è Limit√© | ‚úÖ | ‚úÖ |
| **Extensions** | ‚ùå | ‚úÖ | ‚úÖ |
| **API auto-g√©n√©r√©e** | ‚ùå | ‚ùå | ‚úÖ |
| **Auth int√©gr√©e** | ‚ùå | ‚ùå | ‚úÖ |

### Quand Choisir PlanetScale ?

PlanetScale peut √™tre pr√©f√©rable si :

- Votre √©quipe est plus exp√©riment√©e en MySQL
- Vous avez besoin de sharding automatique
- Les migrations sans downtime sont critiques

### Quand Rester sur PostgreSQL ?

Pr√©f√©rez Neon ou Supabase si :

- Vous utilisez des fonctionnalit√©s avanc√©es de PostgreSQL (JSONB, arrays, extensions)
- Les cl√©s √©trang√®res sont importantes pour votre mod√®le de donn√©es
- Vous voulez utiliser des extensions comme pgvector ou PostGIS

---

## Comparaison D√©taill√©e

### Tableau R√©capitulatif

| Crit√®re | Neon | Supabase | PlanetScale |
|---------|------|----------|-------------|
| **Moteur** | PostgreSQL | PostgreSQL | MySQL/Vitess |
| **Focus** | Base de donn√©es | Backend complet | Base de donn√©es |
| **Scale-to-zero** | ‚úÖ | ‚ùå | ‚ùå |
| **Branching** | ‚úÖ | ‚ùå | ‚úÖ |
| **Open Source** | Partiel | ‚úÖ | ‚ùå |
| **Self-hosting** | ‚ùå | ‚úÖ | ‚ùå |
| **Auth int√©gr√©e** | ‚ùå | ‚úÖ | ‚ùå |
| **API REST** | ‚ùå | ‚úÖ Auto | ‚ùå |
| **Realtime** | ‚ùå | ‚úÖ | ‚ùå |
| **Storage** | ‚ùå | ‚úÖ | ‚ùå |
| **Extensions PG** | ‚úÖ | ‚úÖ | N/A |

### Arbre de D√©cision

Pour vous aider √† choisir, voici un guide de d√©cision simplifi√© :

```
Avez-vous besoin d'un backend complet (auth, storage, API) ?
‚îÇ
‚îú‚îÄ‚îÄ OUI ‚Üí Supabase
‚îÇ
‚îî‚îÄ‚îÄ NON ‚Üí Avez-vous besoin de MySQL ?
          ‚îÇ
          ‚îú‚îÄ‚îÄ OUI ‚Üí PlanetScale
          ‚îÇ
          ‚îî‚îÄ‚îÄ NON ‚Üí Le scale-to-zero est-il important ?
                    ‚îÇ
                    ‚îú‚îÄ‚îÄ OUI ‚Üí Neon
                    ‚îÇ
                    ‚îî‚îÄ‚îÄ NON ‚Üí Neon ou Supabase selon vos pr√©f√©rences
```

### Consid√©rations de Prix

Les trois services proposent des **tiers gratuits** g√©n√©reux pour commencer :

| Service | Tier Gratuit |
|---------|--------------|
| **Neon** | 0.5 GB stockage, branches illimit√©es |
| **Supabase** | 500 MB base, 1 GB storage, 50K auth users |
| **PlanetScale** | 5 GB stockage, 1 milliard lectures/mois |

Pour la production, les prix varient selon l'usage. Consultez toujours les pages de tarification officielles car elles √©voluent fr√©quemment.

---

## Autres Alternatives √† Mentionner

L'√©cosyst√®me des bases de donn√©es serverless √©volue rapidement. Voici d'autres solutions √† conna√Ætre :

### CockroachDB Serverless

- Base de donn√©es SQL distribu√©e
- Compatible PostgreSQL (wire protocol)
- Con√ßue pour la r√©silience globale

### Turso (libSQL)

- Fork de SQLite pour le edge
- R√©plication globale
- Tr√®s faible latence

### Xata

- Base de donn√©es serverless avec recherche int√©gr√©e
- API simple et intuitive
- Fonctionnalit√©s d'IA int√©gr√©es

### AlloyDB (Google Cloud)

- PostgreSQL compatible, optimis√© par Google
- Performances am√©lior√©es pour les workloads analytiques
- Int√©gration native avec l'√©cosyst√®me GCP

---

## Bonnes Pratiques pour les Bases Serverless

### 1. G√©rer les Cold Starts

Les bases serverless qui scale-to-zero ont un temps de d√©marrage :

**Solutions :**
- Configurer un minimum de ressources pour la production
- Utiliser des health checks pour maintenir la base active
- Accepter le cold start pour les environnements de d√©veloppement

### 2. Optimiser les Connexions

Les architectures serverless cr√©ent souvent de nombreuses connexions :

**Solutions :**
- Utiliser un connection pooler (PgBouncer, int√©gr√© dans Neon/Supabase)
- Configurer des timeouts appropri√©s
- √âviter d'ouvrir une connexion par requ√™te HTTP

### 3. Surveiller les Co√ªts

Le mod√®le pay-per-use peut surprendre :

**Solutions :**
- Configurer des alertes de budget
- Monitorer les requ√™tes co√ªteuses
- Optimiser les requ√™tes pour r√©duire les lectures/√©critures

### 4. Planifier la Portabilit√©

M√™me avec du PostgreSQL standard, certaines fonctionnalit√©s sont propri√©taires :

**Solutions :**
- Minimiser l'utilisation des APIs sp√©cifiques au provider
- Utiliser des migrations de sch√©ma versionn√©es
- Tester r√©guli√®rement sur PostgreSQL local

---

## Conclusion

Le paysage des bases de donn√©es serverless offre aujourd'hui des options matures et puissantes :

- **Neon** excelle pour les workflows de d√©veloppement modernes avec son branching innovant et son scale-to-zero √©conomique. C'est le choix id√©al pour les √©quipes qui veulent du PostgreSQL pur avec une exp√©rience d√©veloppeur optimis√©e.

- **Supabase** est parfait pour les d√©veloppeurs qui veulent un backend complet sans avoir √† assembler plusieurs services. Son caract√®re open source et sa communaut√© active en font un choix s√ªr.

- **PlanetScale** reste une option solide pour les √©quipes MySQL, avec des fonctionnalit√©s de migration de sch√©ma particuli√®rement robustes.

Le choix final d√©pendra de vos besoins sp√©cifiques : budget, fonctionnalit√©s requises, exp√©rience de l'√©quipe, et contraintes techniques. La bonne nouvelle est que ces trois solutions offrent des tiers gratuits suffisants pour exp√©rimenter et faire un choix √©clair√©.

---

## Ressources Compl√©mentaires

### Documentation Officielle

- [Documentation Neon](https://neon.tech/docs)
- [Documentation Supabase](https://supabase.com/docs)
- [Documentation PlanetScale](https://planetscale.com/docs)

### Tutoriels de D√©marrage

- Neon : Guide de d√©marrage rapide avec Next.js
- Supabase : Tutoriel de cr√©ation d'application avec React
- PlanetScale : Migration depuis MySQL traditionnel

### Communaut√©s

- Discord Neon
- Discord Supabase
- Forums PlanetScale

---


‚è≠Ô∏è [Connection pooling serverless (PgBouncer, RDS Proxy)](/20bis-postgresql-et-architectures-modernes/03.2-connection-pooling-serverless.md)
